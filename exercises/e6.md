# Exercise Set VI

### Exercise 45

A multi-commodity flow is a tuple $f = (f_1, \dots, f_k)$ where every $f_i$ represents a single-commodity flow of $r_i$ units of traffic from $s_i$ to $t_i$. If $\mathcal P_i$ is a set of paths from $s_i$ to $t_i$, then $\sum_{P_i \in \mathcal P_i} f_i^{P_i} = r_i$, where $f_i^P$ is a fraction of flow $f_i$ that goes through path $P \in \mathcal P_i$.

A multi-commodity flow $f$ is called optimal if every single-commodity flow $f_i$ follows only the shortest paths, i.e. simultaneously for all $i$ holds
$$
P_i^* \in \underset{P_i \in \mathcal P_i}{\arg\min} \left\{ 
	\underbrace{\sum_{e \in P_i} c_e(f_e)}_{ := C_{P_i}(f)} 
\right\},
$$
where $f_e$ is the total amount of traffic from all flows that go through edge $e$, i.e.,
$$
f_e = \sum_{i=1}^k \sum_{P_i \in \mathcal P_i\ :\ e \in P_i} f_i^{P_i}.
$$

### Exercise 46

Total travel time by path:
$$
C(f) = \sum_{i=1}^k \sum_{P_i \in \mathcal P_i} f_{P_i} c_{P_i} (f).
$$
Total travel time by edge:
$$
C(f) = \sum_{e \in E} f_e c_e(f_e).
$$

### Exercise 47

The upper bound on the price of anarchy can be extended to the multi-commodity network setup by considering the network that consists of $k$ "replicas" of a Pigou network, each having source and target nodes $s_i, t_i$ and the same amount of flow $r$. 

### Exercise 48

We're solving the following problem:
$$
\alpha(\mathcal C) = \sup_{c \in \mathcal C} \max_{r \ge 0} \max_{x \ge 0} \frac{r \cdot c(r)}{x \cdot c(x) + (r - x) \cdot c(r)}.
$$
By $\sup_{c \in \mathcal C}$ we understand $\max_{a, b \ge 0}$. 

The inner-loop maximization is equivalent to minimization of $f(x) = x (ax + b) + (r - x) (ar + b)$ over $x \ge 0$. By taking the derivative and equating it to $0$, we get $x = \frac{r}{2}$. 

Next, we maximize a function $g(r) = \frac{r c(r)}{\frac{r}{2} c(r) + \frac{r}{2} c(r/2)}$ over $r \ge 0$. After all simplifications,
$$
g(r) = 1 + \frac{1}{3 + \frac{4b}{a} r},
$$
which is a decreasing function of $r$ that is maximized at $r = 0$, giving $g(0) = \frac{4}{3}$. Additional maximization step over $a$ and $b$ doesn't change anything, so we finally arrive to $\alpha(\mathcal C) = \frac{4}{3}$. 

### Exercise 49



### Exercise 50



### Exercise 51



### Exercise 52



### Exercise 53

The inequality can be directly checked for pairs $(0, 0)$, $(0, 1)$, $(1, 0)$, $(1, 1)$. 

We need to show that $5 y^2 + z^2 \ge 3 y + 3 z y$. Rewrite LHS as $(2y^2) + (3y^2 + z^2)$ and compare respective terms on both sides: 

* $2 y^2 \ge 3y$ for all integer $y > 1$;
* $3 y^2 + z^2 \ge 2\sqrt{3} y z$ by the Cauchy inequality; $2 \sqrt{3} > 3$, so we have the second part.

Adding two inequalities gives us the desired result.

### Exercise 54

